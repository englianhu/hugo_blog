webpackJsonp([47],{525:function(e,t,n){void(e.exports=Promise.all([Promise.resolve().then(n.bind(null,12)),Promise.resolve().then(n.bind(null,1)),Promise.resolve().then(n.bind(null,5)),n.e(36).then(n.bind(null,514))]).then(function(){return function(e,t,n,r){var o;return o=function(){function e(e,n,r){this.name=null!=e?e:"",this.keyword_input=n,this.keyword_display=null!=r?r:void 0,this.keywords=[],t(this.keyword_input).keydown(function(e){return function(n){if(13===n.keyCode||9===n.keyCode)return n.stopPropagation(),t(e.keyword_input).focus(),e.addKeyword(t(e.keyword_input).val())}}(this))}return e.prototype.enableAutocomplete=function(e){return t(this.keyword_input).unbind("keydown"),new r(t(this.keyword_input),{selectCallback:function(e){return function(n){return e.addKeyword(n.item.display_name,n.item.id),t(e.keyword_input).focus()}}(this),queryOptions:{tag_type:e,new_taggable_id:"CompanyTag"===e?void 0:"",new_taggable_type:"CompanyTag"===e?void 0:"",new_taggable_field:"CompanyTag"===e?void 0:"",exclude_new_places:"LocationTag"===e||void 0},tags:!0})},e.prototype.addKeyword=function(n,r){if(""!==n)return this.keywords.push(n),t(this.keyword_input).val(""),this.renderKeywords(),e.trigger("keyword_added",{ki_name:this.name,keyword:n,id:r})},e.prototype.removeKeyword=function(t){var n;return n=this.keywords.indexOf(t),this.keywords.splice(n,1),this.renderKeywords(),e.trigger("keyword_removed",{ki_name:this.name,keyword:t})},e.prototype.renderKeywords=function(){var e,n,r,o,i;if(this.keyword_display){for(t(this.keyword_display).html(""),i=this.keywords,e=function(e){return function(n){var r,o;return r=document.createElement("div"),t(r).addClass("new_taggings tag_edit"),o=document.createElement("img"),t(o).attr("class","remove-keyword delete"),t(o).attr("src","/images/tag-field/close-tag.png"),t(o).attr("title","Remove"),t(o).attr("keyword",n),t(r).html(n),t(r).append(o),t(e.keyword_display).append(r)}}(this),n=0,o=i.length;n<o;n++)r=i[n],e(r);return t("img.remove-keyword",t(this.keyword_display)).click(function(e){return function(n){return e.removeKeyword(t(n.target).attr("keyword"))}}(this))}},e}(),n.extend(o,e.Events),o}.apply(void 0,arguments[0])}.bind(this)))},976:function(e,t,n){void(e.exports=Promise.all([n.e(33).then(n.bind(null,507)),n.e(74).then(n.bind(null,986)),n.e(58).then(n.bind(null,558)),n.e(40).then(n.bind(null,559)),n.e(4).then(n.bind(null,20))]).then(function(){return function(e,t,n,r,o){return e.createClass({displayName:"CommentModule",mixins:[r],reactToBackboneModels:function(){return[o.currentUser(),this.props.deal.comments]},getInitialState:function(){return{loading:!1}},postComment:function(){var e;if(e=this.refs.comment.value(),!this.state.loading&&""!==e)return this.setState({loading:!0}),this.props.deal.comment(e,function(e){return function(){return e.setState({loading:!1}),e.refs.comment.setValue("")}}(this))},render:function(){return e.createElement("div",{className:"u-bgWhite u-maxWidth s-vgBottom1"},this.renderInput(),this.props.deal.comments.map(function(e){return function(t){return e.renderComment(t)}}(this)))},renderInput:function(){var r;return e.createElement("div",{className:"s-vgPad1 u-flex"},e.createElement(n.Picture,{profile:null!=(r=o.currentUser())?r.attributes:void 0,className:"s-vgRight1"}),e.createElement("div",{className:"u-flex1 s-form"},e.createElement(t,{className:"u-maxWidth s-form",style:{resize:"none"},ref:"comment",placeholder:"Add a comment for all fund votes (+/-) incl. deviations from default request and other exceptions."}),"undefined"!=typeof window&&null!==window&&window.innerWidth<768?e.createElement("div",{className:"u-floatRight s-vgTop0_5"},this.renderPostCommentButton()):void 0),"undefined"!=typeof window&&null!==window&&window.innerWidth<768?void 0:e.createElement("div",null,this.renderPostCommentButton()))},renderPostCommentButton:function(){var t;return t="c-button c-button--gray s-vgLeft1",this.state.loading&&(t+=" c-button--loading"),e.createElement("div",{className:t,style:{width:95,height:21},onClick:this.postComment},"Post Comment")},renderComment:function(t){var r;return r=t.toJSON(),e.createElement("div",{className:"s-vgPad1 s-vgBorderTop1",key:r.id},e.createElement(n.Picture,{profile:r.user,size:30,className:"u-floatLeft s-vgRight1"}),e.createElement("div",{style:{marginLeft:30,paddingLeft:14}},e.createElement("div",null,e.createElement("strong",null,r.user.name),e.createElement("span",{style:{color:"#999"}}," Â· ",r.created_at_friendly," ago")),e.createElement("div",{dangerouslySetInnerHTML:{__html:r.comment_html}})),e.createElement("div",{style:{clear:"both"}}))}})}.apply(void 0,arguments[0])}.bind(this)))}});