webpackJsonp([81],{598:function(t,e,r){var o=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;void(t.exports=Promise.all([Promise.resolve().then(r.bind(null,12)),Promise.resolve().then(r.bind(null,5)),r.e(5).then(r.bind(null,565)),r.e(23).then(r.bind(null,501))]).then(function(){return function(t,e,r,n){var i;return{FollowToggleView:i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.REQUIRED_ATTRIBUTES=["follower_id","followed_type","followed_token"],e.prototype.renderCreated=function(){throw new Error("Subclasses must override")},e.prototype.renderDestroyed=function(){throw new Error("Subclasses must override")},e.prototype.render=function(){return null!=this.model?this.renderCreated():this.renderDestroyed()},e.prototype.initialize=function(t){var o,i,u,l,s;if(this.attributes=t.attributes,null==this.attributes)throw new Error("Must provide base follow attributes");for(l=e.REQUIRED_ATTRIBUTES,i=0,u=l.length;i<u;i++)if(o=l[i],!this.attributes[o])throw new Error("Missing required attribute: "+o);return this.collection||(this.collection=n.get(r)),s=function(t){return function(){return null!=t.model&&t.stopListening(t.model),t.model=t.collection.findWhere(t.attributes),null!=t.model&&t.listenTo(t.model,"request",function(e,r,o){var n;return n=function(){return t._destroyModel(t.model)},t._currentXhr=r,r.always(function(){if(t._currentXhr===r)return t._currentXhr=null}),r.done(function(t){if(!t.success)return n()}),r.error(n),t.trigger("request",e,r,o)}),t.render()}}(this),this.listenTo(this.collection,"add remove",s),s()},e.prototype.currentXhr=function(){return this._currentXhr},e.prototype.click=function(){var t;return null!=this.currentXhr()||(null!=this.model?this._destroyModel(this.model):(t=this.collection.add(new r(this.attributes)),this._saveModel(t)))},e.prototype.events={click:"click"},e.prototype._destroyModel=function(t){return t.destroy()},e.prototype._saveModel=function(t){return t.save()},e}(t.View)}}.apply(void 0,arguments[0])}.bind(this)))}});