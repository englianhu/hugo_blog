webpackJsonp([56],{535:function(t,e,n){var i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;void(t.exports=Promise.all([Promise.resolve().then(n.bind(null,1)),Promise.resolve().then(n.bind(null,5)),Promise.resolve().then(n.bind(null,12)),Promise.resolve().then(n.bind(null,7)),n.e(2).then(n.bind(null,549)),Promise.resolve().then(n.bind(null,13)),n.e(47).then(n.bind(null,525)),n.e(65).then(n.bind(null,548)),n.e(6).then(n.bind(null,522)),n.e(25).then(n.bind(null,504)),n.e(1).then(n.bind(null,475)),n.e(22).then(n.bind(null,531)),Promise.resolve().then(n.bind(null,18)),Promise.resolve().then(n.bind(null,8))]).then(function(){return function(t,e,n,r,o,s,a,u,c,l,d,h){var p,f,_,g,w,v,b,k,y,m,$,x,j,C,B,T;return k=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.events={"click .js-unstar-link":function(){return this.trigger("unstarLinkClick")}},e.prototype.initialize=function(){return this.render()},e.prototype.render=function(){return e.__super__.render.call(this),this.$el.html("<div>Done. <a class='js-unstar-link'>Remove Star</a></div>")},e}(n.View),$=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,n),r.prototype.initialize=function(t){var e;return this.toText=t.toText,this.title=this.$el.data("title"),this.min=parseInt(this.$el.data("min"),10),this.max=parseInt(this.$el.data("max"),10),e=this.$el.data("step"),this.step=e?parseFloat(e):1,this.render()},r.prototype.template=e.template("<span class='slider-label'><%= title %></span>\n<div class='slider-value'><%= value %></div>\n<div class='cb'></div>\n<div class='slider'>\n  <div class='slider-bar'></div>\n</div>"),r.prototype.render=function(){return this.$el.html(this.template({title:this.title,value:this._value()})),this.$(".slider-bar").slider({range:!0,min:this.min,max:this.max,values:[this.min,this.max],step:this.step,create:function(e){return function(){var n;return n=e.$(".slider-bar .ui-slider-handle"),t(n[0]).addClass("left"),t(n[1]).addClass("right")}}(this),change:function(t){return function(e,n){var i;return i=n.values,t.min=i[0],t.max=i[1],t.$(".slider-value").html(t._value()),t.trigger("change",{min:t.min,max:t.max})}}(this),slide:function(t){return function(e,n){var i;return i=n.values,t.min=i[0],t.max=i[1],t.$(".slider-value").html(t._value())}}(this)})},r.prototype._value=function(){return this.toText(this.min,this.max)},r}(n.View),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.events=function(){return{click:function(t){return function(e){return t._forwardClick(e,"click")}}(this)}},e.prototype.data=function(){return this.$el.data("filter-data")},e.prototype._forwardClick=function(t,e){return t.stopPropagation(),this.trigger(e,this)},e}(n.View),m=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.className="saved-filter-row",n.prototype.events=function(){return e.extend(n.__super__.events.call(this),{"click .delete-saved-filter":function(t){return function(e){return t._forwardClick(e,"deleteClick")}}(this),"click .alert_checkbox":function(t){return function(e){return t._forwardClick(e,"checkboxToggle")}}(this)})},n.prototype.initialize=function(t){return this.id=t.id,this.$el.data("filter-data",t.data),this.attributes={name:e.escape(t.name),checked:t.subscriber?"checked":""},this.render()},n.prototype.template=e.template("<div class='name'><%= name %></div>\n<div class='alerts'>\n  <input name='alert' type='checkbox' class='alert_checkbox' <%= checked %> />\n</div>\n<a class='delete-saved-filter'> &#10006;</a>\n<div class='cb'></div>"),n.prototype.render=function(){return this.$el.html(this.template(this.attributes)),this},n.prototype.isChecked=function(){return this.$(".alert_checkbox").is(":checked")},n}(v),y=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.initialize=function(){var t,e,n,i,r;for(i=this.$el.data("items"),r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(this.add(t));return r},n.prototype.add=function(t){var e;return e=new m(t),this.listenTo(e,"deleteClick",this.itemOnDeleteClick),this.listenTo(e,"checkboxToggle",this.itemOnCheckboxToggle),this.listenTo(e,"click",this.itemOnClick),this.$el.append(e.$el)},n.prototype.itemOnClick=function(t){return this.trigger("setFilterData",t.data())},n.prototype.itemOnDeleteClick=function(e){return this.stopListening(e),e.remove(),t.ajax({url:"/job_filters/"+e.id,type:"delete",dataType:"json"})},n.prototype.itemOnCheckboxToggle=function(e){return t.ajax({url:"/job_filters/toggle_subscription/"+e.id,type:"post",dataType:"json"})},n}(n.View),x={refreshAll:function(){return h.refreshAll()},startStickyTracking:function(){var t,e,n;if(this.stickyHeaders&&!this.waypoints)return n=new h({element:this.$el[0],offset:function(t){return function(){return t._topOffset()}}(this),handler:function(t){return function(e){return"down"===e?t._stickActionBar():t._unstickActionBar()}}(this)}),e=new h({element:this.$el[0],offset:function(t){return function(){return t._topOffset()-.05*t.$el.height()}}(this),handler:function(t){return function(e){return t._toggleMoreInfo()}}(this)}),t=new h({element:this.$el[0],offset:function(t){return function(){return-(t.$el.height()-t.$(".action-bar").height()-t._topOffset()-50)}}(this),handler:function(t){return function(e){return"up"===e?(t._stickActionBar().hide().slideDown("fast"),t.$(".js-action-bar-details").show()):t.$(".action-bar").slideUp("fast",function(){return t.$(".js-action-bar-details").hide(),t._unstickActionBar()})}}(this)}),this.waypoints=[n,e,t]},stopStickyTracking:function(){var t,e,n,i;if(this.stickyHeaders&&this.waypoints){for(this._unstickActionBar(),this.$(".js-action-bar-details").hide(),n=this.waypoints,t=0,e=n.length;t<e;t++)i=n[t],i.destroy();return delete this.waypoints}},stickyFocus:function(){var e;if(this.isExpanded())return e=this.$el.offset().top,e>t(document).scrollTop()?this.startStickyTracking():(h.disableAll(),t("html, body").animate({scrollTop:e-50},100).promise().done(function(t){return function(){return t.startStickyTracking(),h.enableAll()}}(this)))},_stickActionBar:function(){var e;return e=this.$(".action-bar").css("height"),this.$(".js-action-bar-placeholder").css("height",e).show(),this.$(".action-bar").addClass("stuck"),this._resizeActionBar(),t(window).on("resize.sticky",function(t){return function(){return t._resizeActionBar()}}(this))},_unstickActionBar:function(){return this.$(".js-action-bar-placeholder.candidate-overview-content").css("height","initial"),this.$(".js-action-bar-placeholder:not(.candidate-overview-content)").hide(),this.$(".action-bar").css("width","").removeClass("stuck").show(),t(window).off("resize.sticky")},_topOffset:function(){var e;return d.isHandheld()?(e=t(r.selector("layouts/nav")).height(),t(r.selector("job_listings/browse_filters"))&&(e+=t(r.selector("job_listings/browse_filters")).height()),e):0},_toggleMoreInfo:function(){return this.$(".js-action-bar-details").slideToggle(100,function(t){return function(){var e,n,i,r,o;if(t.waypoints){for(i=t.waypoints,r=[],e=0,n=i.length;e<n;e++)o=i[e],r.push(o.context.refresh());return r}}}(this))},_resizeActionBar:function(){return this.$(".action-bar").width(this.$el.width())}},w=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,n),r.prototype.events=function(){return{click:"onRowClick","click .js-browse-table-row-name a, .js-browse-table-row-pic a":"expandOrFollowLinks","click .interested-button":"onInterestedButtonClick","click .interested-with-note-button":"onInterestedWithNoteButtonClick","click .archive-button, .not-interested-icon, .archive-with-note-button, .js-archive":"onArchiveButtonClick","click .star":"onStarToggle","click .add-note-button":"onAddNoteButtonClick","click .hide-note-button":"onHideNoteButtonClick","click .note, .interested-note, .details-row .content":function(t){return t.stopPropagation()},"click .js-submit-feedback":"onSubmitFeedbackClick"}},r.prototype.initialize=function(){if(this.rowId=this.$el.data("id"),this.name=this.$el.data("name"),this.forceNote=this.$el.data("force-note"),this.forceNoteOnArchive=this.$el.data("force-note-on-archive"),this.isHighlighted=!1,this.promoted=this.$el.data("promoted"),this.promotion_event_id=this.$el.data("promotion-event-id"),this.$el.data("verify-promotion-event-url"))return t.ajax({method:"POST",url:this.$el.data("verify-promotion-event-url")})},r.prototype.isExpanded=function(){return this.$el.hasClass("expanded")},r.prototype.setHighlighted=function(){return this.isHighlighted=!0},r.prototype.expandOrFollowLinks=function(t){return this.isExpanded()?t.target.target="_blank":(this.toggleExpand(),t.preventDefault()),t.stopPropagation()},r.prototype.onRowClick=function(n){var i;if(!t(n.target).is(".js-submit-feedback,.js-feedback-select,.js-feedback-score-select")&&(i=e.isFunction(window.getSelection)&&window.getSelection(),!i||i.isCollapsed||!i.anchorNode||!this.$el.has(i.anchorNode)))return this.toggleExpand(),n.stopPropagation()},r.prototype.toggleExpand=function(t){return this.$el.toggleClass("expanded"),this.$(".details-"+this.rowId).slideToggle(200,function(t){return function(){if(t.isExpanded())return t.stickyFocus()}}(this)),this.$(".collapsed-details-"+this.rowId).slideToggle(100),this.$(".collapsed-jobs-"+this.rowId).slideToggle(100),this.$(".js-header-comments").slideToggle(100),this._toggleActionBar(),this.isExpanded()?this.onExpand(t):this.onContract()},r.prototype.replaceActionBar=function(e){return this._previousActionBarHtml=this.$(".action-bar").html(),this.$(".action-bar:not(.candidate-header-content-wrapper)").slideUp(300,function(){return t(this).html(e).slideDown(300)})},r.prototype.revertActionBar=function(){if(this._previousActionBarHtml)return this.replaceActionBar(this._previousActionBarHtml)},r.prototype.onExpand=function(t){return this.trigger("expand")},r.prototype.onContract=function(){return this.stopStickyTracking(),this.trigger("contract")},r.prototype.slideUp=function(t,e){return this.$el.slideUp(t,function(t){return function(){if(t.stopStickyTracking(),e)return e()}}(this))},r.prototype.slideDown=function(t,e){return this.$el.slideDown(t,function(t){return function(){if(t.startStickyTracking(),e)return e()}}(this))},r.prototype.onSubmitFeedbackClick=function(e){var n,i,r;return i=this.$(".js-feedback-select"),n=this.$(".js-feedback-score-select"),r=this.$(".js-feedback-select option:selected").text(),this.$(".js-submit-feedback").addClass("c-button--loading"),t.ajax("/job_pairings/interview_feedback",{data:{actor:"user",startup_id:this.rowId,feedback:i.val(),score:n.val(),job_pairing_id:i.data("job_pairing_id")},success:function(t){return function(e){return t.$(".js-feedback-check").show(),t.$(".js-feedback-select").remove(),t.$(".js-submit-feedback").remove(),t.$(".js-feedback-score").remove(),t.$(".js-feedback-msg").text(r+". Thank you for letting us know.")}}(this)})},r.prototype.onArchiveButtonClick=function(t){if(this.forceNoteOnArchive){if(!this.$(".note-prompt").is(":visible"))return this.showNote(!1),!1;if(e.isEmpty(this._note()))return this.$(".interested-note").focus(),!1}return this._actionAllowedGuard(t,"archiveButtonClick",function(t){return function(){return t.trigger("archived"),t._updateInterestedOnBackend(!1),!0}}(this))},r.prototype.onStarToggle=function(t){return this._actionAllowedGuard(t,"starToggle",function(t){return function(){var e;return e=t.$(".star"),e.hasClass("starred")?(e.removeClass("starred").find("span").html("&#x2606;"),t.trigger("unstar"),t._updateStarredOnBackend(!1)):(e.addClass("starred").find("span").html("&#x2605;"),t.trigger("star"),t._updateStarredOnBackend(!0))}}(this))},r.prototype.onAddNoteButtonClick=function(t){return this._actionAllowedGuard(t,"addNoteButtonClick",function(e){return function(){var n;return n=e.$(t.target).closest(".add-note-button"),e.showNote(n.data("interested"))}}(this))},r.prototype.onHideNoteButtonClick=function(t){return null!=t&&t.stopPropagation(),this.$(".note-prompt").slideUp(300),this.$(".note-prompt").promise().then(function(t){return function(){return t.$(".interested-note").val(""),t.$(".buttons, .buttons-right").show()}}(this))},r.prototype.onInterestedButtonClick=function(t){return this._onInterested(t,"interestedButtonClick",function(t){return function(){return!t.forceNote||(t.showNote(!0),!1)}}(this))},r.prototype.onInterestedWithNoteButtonClick=function(t){return this._onInterested(t,"interestedWithNoteButtonClick",function(t){return function(){return!e.isEmpty(t._note())||(t.$(".interested-note").focus(),!1)}}(this))},r.prototype.showNote=function(t){var e,n;if(this.$(".buttons, .buttons-right").hide(),t?(this.$(".interested-with-note-button").show(),this.$(".archive-with-note-button").hide()):(this.$(".interested-with-note-button").hide(),this.$(".archive-with-note-button").show()),this.$(".note-prompt").slideDown(300,function(t){return function(){return t.$(".interested-note").focus()}}(this)),e=this.$(".character-count-container"),0===e.children().length&&(n=this.$("textarea.interested-note")[0]))return new s.CharacterCounter({el:n,max:parseInt(this.$(n).attr("maxlength"),10),container:e})},r.prototype._onInterested=function(t,e,n){return this._actionAllowedGuard(t,e,function(t){return function(){if(n())return t.trigger("interested"),t._updateInterestedOnBackend(!0)}}(this))},r.prototype._note=function(){return t.trim(this.$(".interested-note").val())},r.prototype._actionAllowedGuard=function(t,e,n){if(null!=t&&t.stopPropagation(),this.trigger(e),this.allowedToMarkInterest)return n()},r.prototype._updateInterestedOnBackend=function(t){throw new Error("not implemented")},r.prototype._updateStarredOnBackend=function(t){throw new Error("not implemented")},r.prototype._toggleActionBar=function(){return this.isExpanded&&this.$(".not-interested-icon").hide(),this.$(".action-bar:not(.candidate-header-content-wrapper)").slideToggle(200,function(t){return function(){if(!t.isExpanded())return t.$(".not-interested-icon").show()}}(this))},r}(n.View),e.extend(w.prototype,x),_=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,n),r.prototype.events=function(){return e.extend(r.__super__.events.call(this))},r.prototype.initialize=function(){return r.__super__.initialize.call(this),this.allowedToMarkInterest=this.$el.data("allowed-to-mark-interest"),this.listingIds=this.$el.data("listing-ids"),this.in_network=this.$el.data("in-network")},r.prototype.onExpand=function(t){return r.__super__.onExpand.call(this),o.track({viewed_id:this.rowId,viewed_type:"Startup",viewed_context:"jobs_matchflow",autoexpand:t})},r.prototype.onHideNoteButtonClick=function(t){return r.__super__.onHideNoteButtonClick.call(this,t).then(function(t){return function(){return t.$(".info").show(),t.$(".job-listing-ad-container").show()}}(this))},r.prototype.showNote=function(t){return r.__super__.showNote.call(this,t),t?(this.$(".js-note-info").show(),this.$(".js-polite-no").hide()):(this.$(".js-note-info").hide(),this.$(".js-polite-no").show()),this.$(".job-listing-ad-container").hide()},r.prototype._updateInterestedOnBackend=function(e){return t.ajax({url:"/job_pairings",type:"POST",data:{job_pairing:{startup_id:this.rowId,user_interested:e?1:0,candidate_processed_listing_ids:this.listingIds,user_note:this._note()},tab:this.tab,promotion_event_id:this.promotion_event_id},success:function(t){return function(e){return t.trigger("processed",e)}}(this)})},r.prototype._updateStarredOnBackend=function(e){var n;return n=e?"/job_pairings/add_to_starred_list":"/job_pairings/remove_from_starred_list",t.ajax({url:n,data:{actor:"user",startup_id:this.rowId,promotion_event_id:this.promotion_event_id},success:function(t){return function(e){return t.trigger("processed",e)}}(this)})},r}(w),p=function(n){function s(){return s.__super__.constructor.apply(this,arguments)}return i(s,n),s.prototype.events=function(){return e.extend(s.__super__.events.call(this),{"click .js-stop-propogation a":function(t){return t.stopPropagation()}})},s.prototype.delegateEvents=function(){var t;return t=s.__super__.delegateEvents.apply(this,arguments),this.$(".js-networkTooltip").qtip({hide:{fixed:!0,delay:500}}),t},s.prototype.initialize=function(){var e;return s.__super__.initialize.call(this),this.user=this.$el.data("user"),this.startup=this.$el.data("startup"),this.startupId=this.$el.data("startupId"),this.allowedToMarkInterest=!0,e=this.$(".dropdown-filter"),new c(e,e.find(".dropdown-box")),e.mouseenter(function(){return t(this).find(".note").focus()}),this.$(".js-email-row").on("click",function(t){return function(e){return t.onEmailRowClick(e)}}(this)),TipTip.init(this.$el)},s.prototype.onEmailRowClick=function(e){var n;if(n=t(e.target),n.hasClass("clickable"))return n.removeClass("clickable"),n.html("&#10003 "+n.html()+" &middot; Link Sent"),t.ajax({url:"/job_profiles/email_candidate_link",type:"POST",data:{candidate:this.user,startup:this.startup.slug_name||this.startup,recipient:n.data("recipient"),note:n.closest(".dropdown-box").find(".send_link_note .note").val()}})},s.prototype.onExpand=function(e){if(s.__super__.onExpand.call(this),r["with"](t(r.selector("job_profiles/dribbble_shots")),function(t){return function(e){return e.loadScreenshots(t.rowId)}}(this)),this.startupId)return o.track_redis({viewed_id:this.rowId,viewed_type:"User",viewer_type:"Startup",viewer_id:this.startupId,viewed_context:"jobs_matchflow",tab:this.tab,autoexpand:e})},s.prototype.onHideNoteButtonClick=function(t){return s.__super__.onHideNoteButtonClick.call(this,t).then(function(t){return function(){return t.$(".action-bar-right-controls").show()}}(this))},s.prototype.showNote=function(t){return s.__super__.showNote.call(this,t),this.$(".action-bar-right-controls").hide()},s.prototype._updateInterestedOnBackend=function(e){return t.ajax({url:"/job_pairings",type:"POST",data:{job_pairing:{startup_id:this.startupId,user_id:this.rowId,startup_interested:e?1:0,startup_note:this._note()},tab:this.tab,option:this.option},success:function(t){return function(e){return t.trigger("processed",e)}}(this)})},s.prototype._updateStarredOnBackend=function(e){var n;return n=e?"/job_pairings/add_to_starred_list":"/job_pairings/remove_from_starred_list",t.ajax({url:n,data:{actor:"startup",user_id:this.rowId,startup_id:this.startupId,tab:this.tab},success:function(t){return function(e){return t.trigger("processed",e)}}(this)})},s}(w),C=function(e,n){var i,o,s,a,u,c;if(i=t.Deferred(),a=n.nextVisibleRow(e))i.resolve(a);else for(c=n.$el.nextAll(r.selector(n.$el.data("_tn"))),o=0,s=c.length;o<s&&(u=c[o],r["with"](u,function(t){if(a=t.nextVisibleRow())return i.resolve(a)}),"pending"===i.state());o++);return i.promise()},g=function(n){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.events=function(){return{}},o.prototype.initialize=function(t){var e,n,i,r,o,s;for(this.tab=this.$el.data("tab"),this.option=this.$el.data("option"),s=this.$el.data("sticky-headers"),this.rows=t.rows,i=this.rows,r=[],e=0,n=i.length;e<n;e++)o=i[e],r.push(function(t){return function(e){return e.on("interested",function(){return t.rowOnInterested(e)}),e.on("archiveButtonClick",function(){return t.rowOnArchiveButtonClick(e)}),e.on("processed",function(n){return t._onProcessed(e,n)}),e.tab=t.tab,e.option=t.option,e.stickyHeaders=s}}(this)(o));return r},o.prototype.nextVisibleRow=function(t){var n;if(n=t?this.rows.indexOf(t)+1:0,n>=0)return e.find(e.rest(this.rows,n),function(t){return t.$el.is(":visible")})},o.prototype.expandNextRow=function(t){return C(t,this).done(function(t){return function(t){if(t)return t.isExpanded()?t.stickyFocus():t.toggleExpand(!0)}}(this))},o.prototype.contractNextRow=function(t){return C(t,this).done(function(t){return function(t){if(t)return t.isExpanded()?t.toggleExpand():void 0}}(this))},o.prototype.rowOnInterested=function(t){var e;return"starred"===this.tab?(e=(new k).on("unstarLinkClick",function(){return t.slideUp(200),t._updateStarredOnBackend(!1)}),t.replaceActionBar(e.$el)):t.slideUp(200,function(e){return function(){if(t.isExpanded())return e.expandNextRow(t)}}(this))},o.prototype.rowOnArchiveButtonClick=function(t,e){return t.slideUp(200,function(e){return function(){if(t.isExpanded())return e.expandNextRow(t)}}(this))},o.prototype.rowOnUndo=function(t,e){if("starred"===this.tab&&t.revertActionBar(),t.slideDown(200),e)return t.showNote(!0)},o.prototype._onProcessed=function(e,n){var i;if(n.post_yes_html)return null!=(i=this._appliedView)&&i.removeWithAnimation(),t(n.post_yes_html).insertBefore(e.$el).hide().slideDown(500),r["with"](t(r.selector(this._showPostInterestedRowPartial)),function(t){return function(n){return n.on("undoComplete",function(n){return t.rowOnUndo(e,n)}),t._appliedView=n}}(this))},o}(n.View),b=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.events=function(){return{"click .js-undo-link":"onUndoLinkClick","click .js-note-link":"onNoteLinkClick"}},n.prototype.initialize=function(t){return this.jobPairing=t.jobPairing,this._init()},n.prototype._init=function(){return setTimeout(function(t){return function(){return t.removeWithAnimation()}}(this),59e3),setTimeout(function(t){return function(){return x.refreshAll()}}(this),300)},n.prototype.removeWithAnimation=function(){return this.$el.slideUp(500,function(t){return function(){return t.remove()}}(this))},n.prototype.onUndoLinkClick=function(){return this.$el.html("Undoing..."),t.ajax({url:"/job_pairings",type:"POST",data:{job_pairing:this.jobPairing,undo:1},success:function(t){return function(e){return t.trigger("undoComplete"),t.removeWithAnimation()}}(this)})},n.prototype.onNoteLinkClick=function(){return this.trigger("undoComplete",!0)},n}(n.View),f=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,n),r.prototype.events=function(){return{"change .last_active":function(t){return function(e){return t._onSelectChange(e,"last_active")}}(this),"blur .keyword-input":"_closeSearchBox","keypress .inline-keyword-input":"_handleInlineInput","click .search-box":"_onSearchBoxClick","click .close":"_onCloseClick","click .save-current-filters":"_onSaveCurrentFiltersClick","click .save_filter_link":"_onSaveFilterLinkClick","keypress input.name":"_onInputNameKeypress","mouseenter .dropdown-box .filter-row":"_onParentMouseEnter","mouseenter .dropdown-filter":"_onDropdownMouseEnter"}},r.prototype.keywordInputs=function(){return{".excluded-keyword-input":"excluded_keywords",".location-input":["locations","LocationTag"],".keyword-input":"keywords",".inline-keyword-input":"keywords"}},r.prototype.initialize=function(t){if(this.vent=t.vent,this.job_filter=t.job_filter,this._initializeSavedFilterList(),this._initializeKeyboardInputBindings(),this._initializeJobFilterListeners(),this._initializeJobFilter(),this._initializeDropdowns(),this.slug=this.$el.data("slug"),this.$(".inline-keyword-input").length)return this.$(".inline-keyword-input").focus()},r.prototype.fetchPage=function(e,n,i){return t(document).trigger("unbind_update_on_scroll"),this.job_filter.fetchPage(e,n,i)},r.prototype.updateFilterData=function(t){return this.job_filter.set_data(t),this.job_filter.render()},r.prototype.saveFilter=function(){return this.$(".save_filter_link").click()},r.prototype._initializeSavedFilterList=function(){var t;if(t=this.$(".saved-filter-list"),t.length)return this.savedFilterList=new y({el:t}),this.listenTo(this.savedFilterList,"setFilterData",this.updateFilterData)},r.prototype._initializeJobFilter=function(){return this.job_filter.disableFetching(),this.updateFilterData(this.$el.data("initial_data")),this.job_filter.enableFetching()},r.prototype._initializeKeyboardInputBindings=function(){var t,n,i,r;i=this.keywordInputs();for(r in i)t=i[r],n=new a(r,this.$(r)),e.isArray(t)&&t[1]&&n.enableAutocomplete(t[1]);return this.listenTo(a,"keyword_added",function(t){return function(n){var r,o,s;if(s=n.keyword.trim(),""!==s&&i[n.ki_name])return o=i[n.ki_name],r=e.isArray(o)?o[0]:o,e.isArray(o)&&"LocationTag"===o[1]&&"people_locations"!==o[0]&&(s=n.id+"-"+s),t.job_filter.add_data(r,s)}}(this))},r.prototype._initializeJobFilterListeners=function(){return this.listenTo(u,"job_filter_fetch_begin",function(){var e;return t(document).trigger("unbind_updating_on_scroll"),this.vent.trigger("listingsLoading"),e=encodeURIComponent(JSON.stringify(this.job_filter.filter_data)),t(document).trigger("update_filters_in_url",e)}),this.listenTo(u,"job_filter_new_search",function(){var e;return this.$(".js-count-info").hide(),this.$(".count-box").hide(),this.vent.trigger("newSearch"),this.vent.trigger("listingsLoading"),e=encodeURIComponent(JSON.stringify(this.job_filter.filter_data)),t(document).trigger("update_filters_in_url",e)}),this.listenTo(u,"job_filter_update_counts",function(t,e){return this.updateCounts(t,e)}),this.listenTo(u,"job_filter_fetch_complete",function(e){return function(n,i){var r,o;return e.vent.trigger("listingsLoaded",n),r=n.ids.length,o=r.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),e.$(".count-box").find(".label").html(o),r>0?e.$(".count-box").show():e.$(".count-box").hide(),i.in_network?e.$(".js-connect-cta").show():e.$(".js-connect-cta").hide(),t(document).trigger("bind_update_on_scroll")}}(this)),this.listenTo(u,"job_filter_fetch_page_begin",function(e){return function(e){return t(document).trigger("unbind_updating_on_scroll")}}(this)),this.listenTo(u,"job_filter_fetch_page_complete",function(e){return function(n,i){return e.vent.trigger("fetchPageLoaded",n,i),t(document).trigger("bind_update_on_scroll")}}(this))},r.prototype._initializeDropdowns=function(){var e,n,i,r,o,s;for(o=this.$(".dropdown-filter"),n=0,i=o.length;n<i;n++)e=o[n],s=t(e),r=this.$(".dropdown-box[data-menu="+s.data("menu")+"]"),new c(s,r);return this.$(".filter-row").click(function(e){return function(n){var i;if(i=t(n.target),!i.hasClass("js-not-selectable"))return i.data("key")?e.job_filter.add_data(i.data("key"),i.data("value"),i.data("display"),i.data("id")):void 0}}(this)),this.$(".dropdown-box .expanded_menu").click(function(e){return function(e){var n;return n=t(e.target),j(n.parent()),!1}}(this)),this.$(".filter-checkbox").click(function(n){return function(i){var r;return e=t(i.target).data("filter"),r=t(i.target).data("value"),i.target.checked?(n.job_filter.add_data(e,r),t(i.target).prop("checked",!0)):(n.job_filter.remove_data(e,r),t(i.target).prop("checked",!1))}}(this)),this.$(".js-manage-quizzes").click(function(t){return window.location=t.target.href}),this.save_filters_dropdown=new l(this.$(".save-current-filters"),this.$(".save-filter-dropdown"),{left:!1}).bind()},r.prototype._handleInlineInput=function(){var e,n,i,r,o,s,a;return n=this.$(".inline-keyword-input"),s=t("<span />").hide().appendTo(n.parent()),s.text(n.val()),r=120,i=500,a=s.width(),o=a+20,o<=r&&(o=r),e=n.width(),(o<e&&o>=r||o>r&&o<i)&&n.width(o),s.remove()},r.prototype._closeSearchBox=function(){return this.$(".keyword-input").val(""),this.$(".row.current_state").removeClass("hover"),this.$(".data_entry").slideUp(100)},r.prototype._onSelectChange=function(e,n){var i;return i=t(e.target).find("option:selected").val(),i?this.job_filter.add_data(n,i):this.job_filter.remove_data(n)},r.prototype._onSearchBoxClick=function(e){if(!t(".data_entry").is(":visible"))return this.$(".row.current_state").addClass("hover"),this.$(".data_entry").slideDown(100),this.$(".keyword-input").focus().keyup(function(t){return function(e){if(27===e.which)return e.stopPropagation(),t._closeSearchBox()}}(this))},r.prototype._onCloseClick=function(t){return t.stopPropagation(),this._closeSearchBox()},r.prototype._onSaveCurrentFiltersClick=function(){return setTimeout(function(t){return function(){return t.$(".save-filter-dropdown input[type=text]").focus()}}(this),100)},r.prototype._onSaveFilterLinkClick=function(n){var i,r,o;return e.isEmpty(this.job_filter.filter_data)?(window.alert("Sorry, you can't save an empty filter."),!1):(r=t(n.target),r.addClass("disabled").prop("disabled",!0),o=this.$(".save-filter-dropdown input.name").val(),i=this.$(".save-filter-dropdown input.alert_checkbox").is(":checked"),t("body").click(),this.$(".save-filter-dropdown input.name").val(""),this.$(".save-filter-dropdown input.alert_checkbox").prop("checked",!1),this.$(".save-current-filters").html(AL.loadingImage()),t.ajax({url:"/job_filters",type:"post",data:{slug_name:this.slug,name:o,filter_params:this.job_filter.filter_data,alert:i},success:function(t){return function(e){if(e.success)return t.savedFilterList.add(e.job_filter)}}(this),complete:function(t){return function(e){return t.$(".save-current-filters").html(" Saved! "),setTimeout(function(){return t.$(".save-current-filters").html(" Save ")},2e3),r.removeClass("disabled").prop("disabled",!1)}}(this)}))},r.prototype._onInputNameKeypress=function(t){if(13===t.which)return this.$(".save_filter_link").click()},r.prototype._onParentMouseEnter=function(e){var n;return n=t(e.target),j(n)},r.prototype._onDropdownMouseEnter=function(e){var n;return n=t(e.target).find(".dropdown-box"),n.find(".children").hide(),n.find(".expanded_menu").removeClass("active")},r}(n.View),j=function(t){var e,n,i;if(i=t.next(".children"),e=t.closest(".dropdown-box"),0===i.length&&(e.find(".children").hide(),e.find(".expanded_menu").removeClass("active")),i.is(":hidden"))return e.find(".children").hide(),i.show(),t.parent().find(".expanded_menu").removeClass("active"),t.find(".expanded_menu").addClass("active"),n=Math.max(e.height(),i.height()),e.height(n),i.height(n)},T=function(e,n){return t(document).trigger("unbind_updating_on_scroll"),(null!=e?e.length:void 0)>0?r["with"](e,function(t){return t.remove(),n()}):n()},B=function(e,n,i,o,s){return r["with"](t(r.selector(e)),function(t){var e,r,a;if(("find"===t.tab||"all"===(e=t.tab)||"job_listing"===e||"all-candidates"===(r=t.option)||"applications"===r)&&(a=t.rows[0],a&&!a.promoted&&(s===a.rowId&&a.setHighlighted(),1!==n||a.isExpanded()||a.toggleExpand(!0),o===a.rowId)))if(a.tab="email","interested"===i){if(a.onInterestedButtonClick(),a.forceNote&&!a.isExpanded())return a.toggleExpand(!0)}else if("archive"===i)return a.onArchiveButtonClick()})},{Slider:$,BrowseFilter:f,PostYesRow:b,BrowseTable:g,BrowseTableRow:w,FilterListItem:v,BrowseStartupsTableRow:_,BrowseCandidatesTableRow:p,switchTab:T,processFirstRow:B}}.apply(void 0,arguments[0])}.bind(this)))}});